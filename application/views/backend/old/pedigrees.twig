{% extends "template/backend.twig" %}

{% block styles %}

<link rel="stylesheet" href="{{base_url()}}assets/primitive/demo/js/jquery/ui-lightness/jquery-ui-1.10.2.custom.css" />
<link href="{{base_url()}}assets/primitive/demo/css/primitives.latest.css" media="screen" rel="stylesheet" type="text/css" />
<style media="screen">
.bp-title {
  text-overflow: ellipsis;
  -o-text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 10px;
  line-height: 16px;
  color: white;
  padding: 0;
}

.card {
    /* Add shadows to create the "card" effect */
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    width: 170px;
}

/* On mouse-over, add a deeper shadow */
.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

/* Add some padding inside the card container */
// ARTechnology
.containerCard {
    padding: 1px;
}

.small{
  font-size: x-small;
}

.middle-center{
  text-align: center !important;
  vertical-align: middle !important;
}
// ARTechnology
</style>
{% endblock %}

{% block body %}
<div class="content wrap-breadcrum" style="margin-top:-10px">
    <div class="col-sm-12 text-right hidden-xs">
        <ol class="breadcrumb">
            <li><a href="{{base_url()}}" class="link-effect">Dashboard</a></li>
            <li><a href="{{base_url()}}backend/canines" class="link-effect">Canines</a></li>
            <li>Sislsilah</li>
        </ol>
    </div>
</div>

<!-- Main Container -->
<div class="content ">
        <div class="block">
            <div class="block-header text-center bg-gray-lighter">
              <!-- ARTechnology -->
              <h4> Silsilah Anjing</h4>
              <!-- ARTechnology -->
            </div>
            <div class="block-content" style="overflow-y: auto;">
              <table class="table table-bordered table-responsive ">
                  <tr>
                      <!-- ARTechnology -->
                      <td colspan="4" align="right">
                        <div class="card">
                          <center>
                            {% if canine[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].can_a_s}}</b>
                              </p>
                              <p></p>
                            </div>
                          </center>
                        </div>
                      </td>
                      <td colspan="4" class="middle-center">
                        <div class="small">{{canine[0].can_note}}</div>
                      </td>
                      <!-- ARTechnology -->
                  </tr>
                  <tr>
                      <td colspan="4">
                        {% if canine[0].sire[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].sire[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].can_photo}}" width="170px" alt="" />
                              {% endif %}

                              <div class="containerCard">
                                <p><b>{{canine[0].sire[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <!-- <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].can_photo}}" width="170px" alt="" /> -->
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO MALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}

                      </td>
                      <td colspan="4">
                        {% if canine[0].mom[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].mom[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].can_photo}}" width="170px" alt="" />
                              {% endif %}

                              <div class="containerCard">
                                <p><b>{{canine[0].mom[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO FEMALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>
                  </tr>


                  <tr>
                    <!-- father -->
                      <td colspan="2">
                        {% if canine[0].sire[0].sire[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].sire[0].sire[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].sire[0].can_photo}}" width="170px" alt="" />
                              {% endif %}

                              <div class="containerCard">
                                <p><b>{{canine[0].sire[0].sire[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO MALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>
                      <td colspan="2">
                        {% if canine[0].sire[0].mom[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].sire[0].mom[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].mom[0].can_photo}}" width="170px" alt="" />
                              {% endif %}
                              <div class="containerCard">
                                <p><b>{{canine[0].sire[0].mom[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO FEMALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>
                      <!-- ==============================================================================================================  -->
                      <!-- mom -->
                      <td colspan="2">
                        {% if canine[0].mom[0].sire[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].mom[0].sire[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].sire[0].can_photo}}" width="170px" alt="" />
                              {% endif %}
                              <div class="containerCard">
                                <p><b>{{canine[0].mom[0].sire[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO MALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>
                      <td colspan="2">
                        {% if canine[0].mom[0].mom[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].mom[0].mom[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].mom[0].can_photo}}" width="170px" alt="" />
                              {% endif %}
                              <div class="containerCard">
                                <p><b>{{canine[0].mom[0].mom[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO FEMALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>

                  </tr>


                  <!--================================  -->
                  <tr>
                    <td>
                      {% if canine[0].sire[0].sire[0].sire[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].sire[0].sire[0].sire[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].sire[0].sire[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].sire[0].sire[0].sire[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO MALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <td>
                      {% if canine[0].sire[0].sire[0].mom[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].sire[0].sire[0].mom[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].sire[0].mom[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].sire[0].sire[0].mom[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO FEMALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <!-- sire sire sire-->
                    <td>
                      {% if canine[0].sire[0].mom[0].sire[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].sire[0].mom[0].sire[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].mom[0].sire[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].sire[0].mom[0].sire[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO MALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <td>
                      {% if canine[0].sire[0].mom[0].mom[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].sire[0].mom[0].mom[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].sire[0].mom[0].mom[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].sire[0].mom[0].mom[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO FEMALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <!-- sire sire mom -->

                      <td>
                        {% if canine[0].mom[0].sire[0].sire[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].mom[0].sire[0].sire[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].sire[0].sire[0].can_photo}}" width="170px" alt="" />
                              {% endif %}
                              <div class="containerCard">
                                <p><b>{{canine[0].mom[0].sire[0].sire[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO MALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>
                      <td>
                        {% if canine[0].mom[0].sire[0].mom[0] != null %}
                          <center>
                            <div class="card">
                              {% if canine[0].mom[0].sire[0].mom[0].can_photo == '-' %}
                                  <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                  {% else %}
                                  <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].sire[0].mom[0].can_photo}}" width="170px" alt="" />
                              {% endif %}
                              <div class="containerCard">
                                <p><b>{{canine[0].mom[0].sire[0].mom[0].can_a_s}}</b>
                                </p>
                              </div>
                            </div>
                          </center>
                        {% else %}
                        <center>
                          <div class="card">
                            <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                            <div class="containerCard">
                              <!-- ARTechnology -->
                              <p><b>NO FEMALE</b>
                              <!-- ARTechnology -->
                              </p>
                            </div>
                          </div>
                        </center>
                        {% endif %}
                      </td>

                    <!-- mom mom sire -->
                    <td>
                      {% if canine[0].mom[0].mom[0].sire[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].mom[0].mom[0].sire[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].mom[0].sire[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].mom[0].mom[0].sire[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO MALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <td>
                      {% if canine[0].mom[0].mom[0].mom[0] != null %}
                        <center>
                          <div class="card">
                            {% if canine[0].mom[0].mom[0].mom[0].can_photo == '-' %}
                                <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px" height="105px" alt="" />
                                {% else %}
                                <img src="{{base_url()}}uploads/canine/{{canine[0].mom[0].mom[0].mom[0].can_photo}}" width="170px" alt="" />
                            {% endif %}
                            <div class="containerCard">
                              <p><b>{{canine[0].mom[0].mom[0].mom[0].can_a_s}}</b>
                              </p>
                            </div>
                          </div>
                        </center>
                      {% else %}
                      <center>
                        <div class="card">
                          <img src="{{base_url()}}assets/oneui/img/avatars/image.png" width="170px"  height="105px" alt="" />
                          <div class="containerCard">
                            <!-- ARTechnology -->
                            <p><b>NO FEMALE</b>
                            <!-- ARTechnology -->
                            </p>
                          </div>
                        </div>
                      </center>
                      {% endif %}
                    </td>
                    <!-- mom mom mom -->

                  </tr>
              </table>

            </div>
        </div>
</div>

<input type="hidden" value="{{ base_url() }}" class="base_url" />
<input type="hidden" value="{{canines.can_id}}" class="can_id" />
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{{base_url()}}assets/primitive/demo/js/jquery/jquery-1.9.1.js"></script>
<script type="text/javascript" src="{{base_url()}}assets/primitive/demo/js/jquery/jquery-ui-1.10.2.custom.min.js"></script>
<script  type="text/javascript" src="{{base_url()}}assets/primitive/demo/js/primitives.min.js"></script>

<script>
jQuery(function () {
    $('#page-container').addClass('sidebar-mini');
});

var can_id = $('.can_id').val();
var base_url = $('.base_url').val();

$(window).load(function () {

    $.get(base_url+'backend/pedigrees/cid/'+can_id, function(res) {
      res = $.parseJSON(res);

      var options = new primitives.orgdiagram.Config();

        var item = [];
        var canines = res;
        canines.forEach(function(v, i){
          var newItem = new primitives.orgdiagram.ItemConfig(
            {
                id: v.id,
                parent: v.parent,
                title: v.can_a_s,
                description: v.can_date_of_birth,
                image: base_url+'uploads/canine/'+v.can_photo,
                phone: "(123) 800-80-80",
                email: "joseph@org.com"
            });

            item.push(newItem);

        })

        var items = item;
        options.items = items;
        options.cursorItem = 0;
        options.hasSelectorCheckbox = primitives.common.Enabled.False;
        // delete items[0];
        jQuery("#basicdiagram").orgDiagram(options);

      });
});
</script>
{% endblock %}
